<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <header class="login-header">아무말 대잔치</header>
    <article class="community-body">
      <section class="welcome-ment">
        <div>안녕하세요,</div>
        <div>아무 말 대잔치 게시판 입니다.</div>
      </section>

      <button id="community-write-btn" class="community-write-btn">
        게시글 작성
      </button>
      <article id="community-list" class="community-list">
        <!-- <section id="community-list-item" class="community-list-item">
          <div>제목</div>
          <div>좋아요 0 댓글 0 조회수 0</div>
          <hr />
          <div class="user">
            <img width="36px" src="../../../images/profile_img.webp" />
            이름
          </div>
        </section>
        <section class="community-list-item">
          <div>제목</div>
          <div>좋아요 0 댓글 0 조회수 0</div>
          <hr />
          <div class="user">
            <img width="36px" src="../../../images/profile_img.webp" />
            이름
          </div>
        </section>
        <section class="community-list-item">
          <div>제목</div>
          <div>좋아요 0 댓글 0 조회수 0</div>
          <hr />
          <div class="user">
            <img width="36px" src="../../../images/profile_img.webp" />
            이름
          </div>
        </section>
        <section class="community-list-item">
          <div>제목</div>
          <div>좋아요 0 댓글 0 조회수 0</div>
          <hr />
          <div class="user">
            <img width="36px" src="../../../images/profile_img.webp" />
            이름
          </div>
        </section> -->
      </article>
    </article>

    <article class="login-article"></article>
  </body>
</html>

<script>
  let items = [
    {
      id: 1,
      title: "제목 1",
      date: "2021-01-01 00:00:00",
      state: { likes: 1, comments: 0, views: 0 },
      writer: { name: "작성자1", profile: "profilePath" },
    },
    {
      id: 2,
      title: "제목 2",
      date: "2021-01-01 00:00:00",
      state: { likes: 1, comments: 0, views: 0 },
      writer: { name: "작성자2", profile: "profilePath" },
    },
    {
      id: 3,
      title: "제목 3",
      date: "2021-01-01 00:00:00",
      state: { likes: 1, comments: 0, views: 0 },
      writer: { name: "작성자3", profile: "profilePath" },
    },
    {
      id: 4,
      title: "제목 4",
      date: "2021-01-01 00:00:00",
      state: { likes: 1, comments: 0, views: 0 },
      writer: { name: "작성자4", profile: "profilePath" },
    },
  ];

  let itemList = document.getElementById("community-list");
  items.forEach((a) => {
    const section = document.createElement("section");
    section.id = "item" + a.id;
    section.classList.add("community-list-item");
    // section.onclick = getDetail(a.id);

    section.innerHTML = `
      <div>${a.title}</div>
      <div>좋아요 ${a.state.likes} 댓글 ${a.state.comments} 조회수 ${a.state.views}</div>
      <hr />
      <div class="user">
        <img width="36px" src="../../../images/profile_img.webp" />
        ${a.writer.name}
      </div>
    `;

    itemList.append(section);
    document.getElementById("item" + a.id).addEventListener("click", () => {
      localStorage.setItem("itemId", a.id);
      location.href = "../detail/index.html";
    });
  });

  document
    .getElementById("community-write-btn")
    .addEventListener("click", () => {
      location.href = "../post/index.html";
    });

  function getDetail(id) {
    location.href = "../detail/index.html";
  }
</script>
